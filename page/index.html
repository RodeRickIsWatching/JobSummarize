<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<a href="/test.html">
    跳转页面测试
</a>


<br/>

<label for="userName">账号：</label>
<input type="text" id="userName">

<br/>

<label for="password">密码：</label>
<input type="text" id="password">


<br/>


<button type="button" onclick="eventHandler('get')">GET请求，参数type = get</button>

<button type="button" onclick="eventHandler('post')">POST请求，参数type = post</button>

<!--<button type="button"></button>-->
<br/>

<span id="param"></span>

<script>
    let param = document.getElementById('param');
    function eventHandler(_type){
        let url = 'http://127.0.0.1:12306';
        switch (_type) {
            case 'get':
                window.fetch(url+'?type=get', {
                    method: _type.toUpperCase()
                }).then(res=>{
                    param.innerText = JSON.stringify(res.url)
                }).catch(e=>{
                    console.log(e)
                })
            case 'post':
                window.fetch(url, {
                    method: _type.toUpperCase(),
                    body: 'type: post'
                }).then(res=>{
                    console.log(res)

                    param.innerText = JSON.stringify(res.url)
                }).catch(e => {
                    console.log(e)
                })
        }
    }


</script>
</body>
</html>
